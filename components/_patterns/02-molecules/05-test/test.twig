{% set test_blockname = 'test' %}
{% set test_modifiers = {1 : 'columns-2'} %}

{% embed "@base/layouts/flex-grid/00-flex-grid.twig" with {
  "flex_grid_base_class": test_base_class,
  "flex_grid_modifiers": test_modifiers,
  "flex_grid_blockname": test_blockname,
  "flex_grid_items": test_items_1,
}%}

  {% block flex_grid_block %}

    {# Image #}
    {%- if flex_grid_item.img_attributes -%}
      {% set flex_grid_item %}
        {%- include "@atoms/04-images/00-image/00-image.twig" with {
          "img_attributes": flex_grid_item.img_attributes,
          "img_blockname": test_base_class,
        } -%}
      {% endset %}
    {%- endif -%}
    {# End Image #}

    {# Title #}
    {%- if flex_grid_item.title -%}
      {% set flex_grid_item %}
        {%- if flex_grid_item.link_attributes -%}
          {%- embed "@atoms/01-links/link/link.twig" with {
            "link_attributes": flex_grid_item.link_attributes,
            "link_base_class": flex_grid_item.link_base_class,
            "link_modifiers": flex_grid_item.link_modifiers,
            "link_blockname": test_base_class,
          } -%}
            {%- block link_content -%}
              {%- include "@atoms/03-text/01-heading/_heading.twig" with {
                "heading_level": 2,
                "heading_content": flex_grid_item.title,
                "heading_base_class": flex_grid_item.base_class,
                "heading_modifiers": flex_grid_item.modifiers,
                "heading_blockname": test_base_class,
              } -%}
            {%- endblock -%}
          {%- endembed -%}
        {%- else -%}
          {%- include "@atoms/03-text/01-heading/_heading.twig" with {
            "heading_level": 2,
            "heading_content": flex_grid_item.title,
            "heading_base_class": flex_grid_item.base_class,
            "heading_modifiers": flex_grid_item.modifiers,
            "heading_blockname": test_base_class,
          } -%}
        {%- endif -%}
      {% endset %}
    {%- endif -%}
    {# End Title #}

    {# Subtitle #}
    {%- if flex_grid_item.subtitle -%}
      {% set flex_grid_item %}
        {%- if flex_grid_item.link_attributes -%}
          {%- embed "@atoms/01-links/link/link.twig" with {
            "link_attributes": flex_grid_item.link_attributes,
            "link_base_class": flex_grid_item.link_base_class,
            "link_modifiers": flex_grid_item.link_modifiers,
            "link_blockname": test_base_class,
          } -%}
            {%- block link_content -%}
              {%- include "@atoms/03-text/01-heading/_heading.twig" with {
                "heading_level": 3,
                "heading_content": flex_grid_item.subtitle,
                "heading_base_class": flex_grid_item.base_class,
                "heading_modifiers": flex_grid_item.modifiers,
                "heading_blockname": test_base_class,
              } -%}
            {%- endblock -%}
          {%- endembed -%}
        {%- else -%}
          {%- include "@atoms/03-text/01-heading/_heading.twig" with {
            "heading_level": 3,
            "heading_content": flex_grid_item.subtitle,
            "heading_base_class": flex_grid_item.base_class,
            "heading_modifiers": flex_grid_item.modifiers,
            "heading_blockname": test_base_class,
          } -%}
        {%- endif -%}
      {% endset %}
    {%- endif -%}
    {# End Title #}

    {# Body #}
    {%- if flex_grid_item.body -%}
      {% set flex_grid_item %}
        {%- if flex_grid_item.link_attributes -%}
          {%- embed "@atoms/01-links/link/link.twig" with {
            "link_attributes": flex_grid_item.link_attributes,
            "link_base_class": flex_grid_item.link_base_class,
            "link_modifiers": flex_grid_item.link_modifiers,
            "link_blockname": test_base_class,
          } -%}
            {%- block link_content -%}
              {%- include "@atoms/03-text/02-paragraph/paragraph.twig" with {
                "paragraph_content": flex_grid_item.body,
                "paragraph_base_class": flex_grid_item.base_class,
                "paragraph_modifiers": flex_grid_item.modifiers,
                "paragraph_blockname": test_base_class,
              } -%}
            {%- endblock -%}
          {%- endembed -%}
        {%- else -%}
          {%- include "@atoms/03-text/02-paragraph/paragraph.twig" with {
            "paragraph_content": flex_grid_item.body,
            "paragraph_base_class": flex_grid_item.base_class,
            "paragraph_modifiers": flex_grid_item.modifiers,
            "paragraph_blockname": test_base_class,
          } -%}
        {%- endif -%}
      {% endset %}
    {%- endif -%}
    {# End Body #}

    {# Button #}
    {%- if flex_grid_item.button_attributes -%}
      {% set flex_grid_item %}
        {%- include "@atoms/02-form_elements/01-button/00-button.twig" with {
          "button_content": flex_grid_item.button,
          "button_attributes": flex_grid_item.button_attributes,
          "button_base_class": flex_grid_item.base_class,
          "button_modifiers": flex_grid_item.modifiers,
          "button_blockname": test_base_class,
        } -%}
      {% endset %}
    {%- endif -%}
    {# End Button #}

    {# Link #}
    {%- if flex_grid_item.link_attributes -%}
      {% set flex_grid_item %}
        {%- include "@atoms/01-links/link/link.twig" with {
          "link_content": flex_grid_item.link,
          "link_attributes": flex_grid_item.link_attributes,
          "link_base_class": flex_grid_item.link_base_class,
          "link_modifiers": flex_grid_item.link_modifiers,
          "link_blockname": test_base_class,
        } -%}
      {% endset %}
    {%- endif -%}
    {# End Link #}

    {{ parent() }}

  {% endblock flex_grid_block %}

{% endembed %}

{% embed "@base/layouts/flex-grid/00-flex-grid.twig" with {
  "flex_grid_base_class": test_base_class,
  "flex_grid_modifiers": test_modifiers,
  "flex_grid_blockname": test_blockname,
  "flex_grid_items": test_items_2,
}%}

{% block flex_grid_block %}

  {# Image #}
  {%- if flex_grid_item.img_attributes -%}
    {% set flex_grid_item %}
      {%- include "@atoms/04-images/00-image/00-image.twig" with {
        "img_attributes": flex_grid_item.img_attributes,
        "img_blockname": test_base_class,
      } -%}
    {% endset %}
  {%- endif -%}
  {# End Image #}

  {# Title #}
  {%- if flex_grid_item.title -%}
    {% set flex_grid_item %}
      {%- if flex_grid_item.link_attributes -%}
        {%- embed "@atoms/01-links/link/link.twig" with {
          "link_attributes": flex_grid_item.link_attributes,
          "link_base_class": flex_grid_item.link_base_class,
          "link_modifiers": flex_grid_item.link_modifiers,
          "link_blockname": test_base_class,
        } -%}
          {%- block link_content -%}
            {%- include "@atoms/03-text/01-heading/_heading.twig" with {
              "heading_level": 2,
              "heading_content": flex_grid_item.title,
              "heading_base_class": flex_grid_item.base_class,
              "heading_modifiers": flex_grid_item.modifiers,
              "heading_blockname": test_base_class,
            } -%}
          {%- endblock -%}
        {%- endembed -%}
      {%- else -%}
        {%- include "@atoms/03-text/01-heading/_heading.twig" with {
          "heading_level": 2,
          "heading_content": flex_grid_item.title,
          "heading_base_class": flex_grid_item.base_class,
          "heading_modifiers": flex_grid_item.modifiers,
          "heading_blockname": test_base_class,
        } -%}
      {%- endif -%}
    {% endset %}
  {%- endif -%}
  {# End Title #}

  {# Subtitle #}
  {%- if flex_grid_item.subtitle -%}
    {% set flex_grid_item %}
      {%- if flex_grid_item.link_attributes -%}
        {%- embed "@atoms/01-links/link/link.twig" with {
          "link_attributes": flex_grid_item.link_attributes,
          "link_base_class": flex_grid_item.link_base_class,
          "link_modifiers": flex_grid_item.link_modifiers,
          "link_blockname": test_base_class,
        } -%}
          {%- block link_content -%}
            {%- include "@atoms/03-text/01-heading/_heading.twig" with {
              "heading_level": 3,
              "heading_content": flex_grid_item.subtitle,
              "heading_base_class": flex_grid_item.base_class,
              "heading_modifiers": flex_grid_item.modifiers,
              "heading_blockname": test_base_class,
            } -%}
          {%- endblock -%}
        {%- endembed -%}
      {%- else -%}
        {%- include "@atoms/03-text/01-heading/_heading.twig" with {
          "heading_level": 3,
          "heading_content": flex_grid_item.subtitle,
          "heading_base_class": flex_grid_item.base_class,
          "heading_modifiers": flex_grid_item.modifiers,
          "heading_blockname": test_base_class,
        } -%}
      {%- endif -%}
    {% endset %}
  {%- endif -%}
  {# End Title #}

  {# Body #}
  {%- if flex_grid_item.body -%}
    {% set flex_grid_item %}
      {%- if flex_grid_item.link_attributes -%}
        {%- embed "@atoms/01-links/link/link.twig" with {
          "link_attributes": flex_grid_item.link_attributes,
          "link_base_class": flex_grid_item.link_base_class,
          "link_modifiers": flex_grid_item.link_modifiers,
          "link_blockname": test_base_class,
        } -%}
          {%- block link_content -%}
            {%- include "@atoms/03-text/02-paragraph/paragraph.twig" with {
              "paragraph_content": flex_grid_item.body,
              "paragraph_base_class": flex_grid_item.base_class,
              "paragraph_modifiers": flex_grid_item.modifiers,
              "paragraph_blockname": test_base_class,
            } -%}
          {%- endblock -%}
        {%- endembed -%}
      {%- else -%}
        {%- include "@atoms/03-text/02-paragraph/paragraph.twig" with {
          "paragraph_content": flex_grid_item.body,
          "paragraph_base_class": flex_grid_item.base_class,
          "paragraph_modifiers": flex_grid_item.modifiers,
          "paragraph_blockname": test_base_class,
        } -%}
      {%- endif -%}
    {% endset %}
  {%- endif -%}
  {# End Body #}

  {# Button #}
  {%- if flex_grid_item.button_attributes -%}
    {% set flex_grid_item %}
      {%- include "@atoms/02-form_elements/01-button/00-button.twig" with {
        "button_content": flex_grid_item.button,
        "button_attributes": flex_grid_item.button_attributes,
        "button_base_class": flex_grid_item.base_class,
        "button_modifiers": flex_grid_item.modifiers,
        "button_blockname": test_base_class,
      } -%}
    {% endset %}
  {%- endif -%}
  {# End Button #}

  {# Link #}
  {%- if flex_grid_item.link_attributes -%}
    {% set flex_grid_item %}
      {%- include "@atoms/01-links/link/link.twig" with {
        "link_content": flex_grid_item.link,
        "link_attributes": flex_grid_item.link_attributes,
        "link_base_class": flex_grid_item.link_base_class,
        "link_modifiers": flex_grid_item.link_modifiers,
        "link_blockname": test_base_class,
      } -%}
    {% endset %}
  {%- endif -%}
  {# End Link #}

  {{ parent() }}

{% endblock flex_grid_block %}

{% endembed %}
